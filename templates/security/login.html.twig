{% extends 'base.html.twig' %}

{% block title %}Connexion
{% endblock %}

{% block body %}
	<div class="min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
		<div class="max-w-md w-full space-y-8">
			<div>
				<h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">
					Connexion à votre compte
				</h2>
			</div>

			<form class="mt-8 space-y-6" method="post">
				{% if error %}
					<div class="rounded-md bg-red-50 p-4">
						<div class="flex">
							<div class="ml-3">
								<h3 class="text-sm font-medium text-red-800">
									{{ error.messageKey|trans(error.messageData, 'security') }}
								</h3>
							</div>
						</div>
					</div>
				{% endif %}

				{% if app.user %}
					<div class="rounded-md bg-blue-50 p-4">
						<div class="flex">
							<div class="ml-3">
								<p class="text-sm text-blue-700">
									Vous êtes connecté en tant que
									{{ app.user.userIdentifier }},
									<a href="{{ path('app_logout') }}" class="font-medium underline hover:text-blue-600">
										Déconnexion
									</a>
								</p>
							</div>
						</div>
					</div>
				{% endif %}

				<input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

				<div class="rounded-md shadow-sm -space-y-px">
					<div>
						<label for="username" class="block text-sm font-medium text-gray-700 mb-2">
							Identifiant
						</label>
						<input type="text" id="username" name="_username" value="{{ last_username }}" required class="appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm" autocomplete="username" autofocus>
					</div>

					<div class="mt-4">
						<label for="password" class="block text-sm font-medium text-gray-700 mb-2">
							Mot de passe
						</label>
						<input type="password" id="password" name="_password" required class="appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm" autocomplete="current-password">
					</div>
				</div>

                {#
                    Uncomment this section and add a remember_me option below your firewall to activate remember me functionality.
                    See https://symfony.com/doc/current/security/remember_me.html

                    <div class="checkbox mb-3">
                        <input type="checkbox" name="_remember_me" id="_remember_me">
                        <label for="_remember_me">Remember me</label>
                    </div>
                #}

				<div>
					<button type="submit" class="group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
						Se connecter
					</button>
				</div>
			</form>
		</div>
	</div>
{% endblock %}
